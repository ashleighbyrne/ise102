/* ISE102 Assessment 2 Case Study
Ashleigh Byrne A00145987
Victoria Watts
Jaspa Mahoney
*/

using System;
using System.Text.RegularExpressions;

namespace ISE102Assessment2;






// Task 1: Login Module (Victoria)
    //asks for username username

    Console.WriteLine("Username:");
    string inputu = Console.ReadLine();
    
    //asks for password

    Console.WriteLine("Password:");
    string inputp = Console.ReadLine();
    
    //Links to verification system

    if (inputu == username && inputp == password)
    {
        Console.WriteLine("Login verified, Welcome."); // Response for correct Login
    }
    else
    {
        Console.WriteLine("Passowrd or username is incorrect."); // Response for incorrect password or username
    }
}






//Task 2: Signup Module (Ashleigh)
public class SignupModule
{
    // For testing purposes - The user has already created a login account with their full name and password.
    // User's first name and surname are used to create the user's username. Password was also entered by the user during the login module.
    private string firstName = "Joe";
    private string surname = "Doe";
    public string loginPassword = "abc123";

    //User's unique username is created with the structure "firstName + "." + "surname".
    //Define the username variable:
    public string username;


    public SignupModule()
    {
        username = $"{firstName}.{surname}";
    }
}

public class Signup
{
    // Define each of the variables for the signup information as private variables, as they are used within the SignupModule class
    private string username;
    private string email;
    private int age;
    private string phone;
    private string password;
    private string loginPassword;

    public Signup(string existingUsername, string existingPassword)
    {
        username = existingUsername;
        loginPassword = existingPassword;
    }

    public void SignupDetails()
    {
        Console.Write("Email: ");
        email = Console.ReadLine();
        while (!Regex.IsMatch(email, @"$(.com)"))
        {
            Console.Write("Invalid email! Please enter a valid email (e.g., example@example.com): ");
            email = Console.ReadLine();
        }

        Console.Write("Age: ");
        while (!int.TryParse(Console.ReadLine(), out age) || age < 18 || age > 100)
        {
            Console.Write("Invalid age! Age must be between 18 and 100. Please enter again: ");
        }

        Console.Write("Phone: ");
        phone = Console.ReadLine();


        Console.Write("Password: ");
        password = Console.ReadLine();
        while (password != loginPassword)
        {
            Console.Write("Incorrect password! Please try again: ");
            password = Console.ReadLine();
        }
    }

    public void SignupConfirmation()
    {
        // Program writes out the user's input information to confirm it is all correct
        Console.WriteLine("\nPlease confirm your details below:\n");
        Console.WriteLine($"Username: {username}");
        Console.WriteLine($"Email: {email}");
        Console.WriteLine($"Age: {age}");
        Console.WriteLine($"Phone: {phone}");

        Console.Write("\nIs the information correct? (yes/no): ");
        // Create a confirmation variable and allow the user to input a response. Force the user's response to lower case so it matches "yes"
        string confirmation = Console.ReadLine().ToLower();

        if (confirmation != "yes")
        {
            Console.WriteLine("Restarting signup process...\n");
            SignupDetails();
            SignupConfirmation();
        }
        else
        {
            Console.WriteLine("Signup successful!");
        }
    }

    public static void Main(string[] args)
    {
        SignupModule user = new SignupModule();
        Signup userProfile = new Signup(user.username, user.loginPassword);

        Console.WriteLine("Please enter the following information to complete your signup:");
        userProfile.SignupDetails();
        userProfile.SignupConfirmation();
    }
}



// Verify Module (Jaspa)
